<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Cardápio</title>
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="../../Bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../CSS/cadastros.css">
    <link rel="stylesheet" href="../../CSS/masterpage.css">
    <link rel="stylesheet" href="../../CSS/sweetalert2.css">
    <script src="../../JS/jquery.js"></script>
</head>
<body>
    <nav>
        <!-- Imagem e Nome da empresa -->
        <div class="menu-lateral-topo">
          <span class="botao-encolher">
            <i class='bx bx-chevron-left'></i>
          </span>
          <h3 class="esconder nome-soft mt-2">Smart <span>Chef</span></h3>
        </div>
    
        <!-- Função de search -->
        <div class="procurar">
          <i class='bx bx-search'></i>
          <input type="text" class="esconder" placeholder="Procura rapida ...">
        </div>
    
        <!-- Sidebar menu -->
        <div class="acesso-lateral mt-4">
          <ul>
            <div class=""></div>
            <li class="element-ferramenta" data-tooltip="0">
              <a href="../../index.html" class="" data-active="0"> 
                <div class="icone">
                  <i class='bx bx-tachometer'></i>
                  <i class='bx bxs-tachometer'></i>
                </div>
                <span class="acesso esconder" >Dashboard</span>
              </a>
            </li>
            <li class="element-ferramenta " data-tooltip="1">
              <a href="CadastroCard.html" class="active" data-active="1">
                <div class="icone">
                  <i class='bx bx-folder'></i>
                  <i class='bx bxs-folder'></i>
                </div>
                <span class="acesso esconder">Cadastros</span>
              </a>
            </li>
            <li class="element-ferramenta" data-tooltip="2">
              <a href="" data-active="2">
                <div class="icone">
                  <i class='bx bx-message-square-detail'></i>
                  <i class='bx bxs-message-square-detail'></i>
                </div>
                <span class="acesso esconder">Mesas</span>
              </a>
            </li>
            <li class="element-ferramenta" data-tooltip="3">
              <a href="#" data-active="3" >
                <div class="icone">
                  <i class='bx bx-bar-chart-square'></i>
                  <i class='bx bxs-bar-chart-square'></i>
                </div>
                <span class="acesso esconder">Históricos</span>
              </a>
            </li>
    
            <li class="element-ferramenta" data-tooltip="4">
              <a href="" data-active="4">
                <div class="icone">
                  <i class='bx bx-edit-alt'></i>
                  <i class='bx bxs-edit-alt'></i>
                </div>
                <span class="acesso esconder">Administrar</span>
              </a>
            </li>
    
            <!-- tooltip da navbar -->
            <div class="tooltip">
              <span class="show">Dashboard</span>
              <span>Cardápio</span>
              <span>Mesas</span>
              <span>Históricos</span>
              <span>Administrar</span>
            </div>
          </ul>
    
        </div>
  
        <!-- Footer do sidebar (Logout / empresa) -->
        <div class="sidebar-footer">
          <a href="#" class="account element-ferramenta" data-tooltip="0">
            <i class='bx bx-user'></i>
          </a>
          <div class="admin-user element-ferramenta" data-tooltip="1">
            <div class="admin-profile esconder">
              <div class="admin-info ms-3">
                <h3 id="NOME"></h3>
                <h5 id="FUNCAO"></h5>
              </div>
            </div>
            <button class="log-out" id="sair" onclick="logout()" >
              <i class='bx bx-log-out'></i>
            </button>
          </div>
          <div class="tooltip">
            <span class="show">Empresa</span>
            <span>Logout</span>
          </div>
        </div>
    </nav>
    
    <main>
        <div class="bordas">
            <h2 style="font-weight: bold;">Cadastros</h2>
            <div class="btn-aux">
              <button onclick="mostrarFormulario('prato-form')">Pratos</button>
                <button onclick="mostrarFormulario('funcionario')">Funcionários</button>
                <button onclick="mostrarFormulario('mesa')">Mesa</button>
            </div>

            <div class="row formulario" id="prato-form">
                <div class="col-12 mb-4">
                    <h2>Cadastro de pratos</h2>
                </div>
                <form method="POST" action="" id="registrar-cardapio">
                    <div class="row">
                        <div class="col-5 inserir-info">
                            <label for="">Nome do prato</label>
                            <input type="text" name="prato" class="mt-2" id="prato" placeholder="Insira o nome">
                        </div>
                        <div class="col-5 offset-1 inserir-info">
                            <label for="">Preço</label>
                            <input type="text" class="mt-2" name="preco" id="preco" placeholder="R$">
                        </div>
                        <div class="col-5 inserir-info">
                            <label for="">Descrição</label>
                            <textarea name="descricao" id="descricao" class="form-control mt-2" cols="5" rows="1" placeholder="Insira uma descricao do prato"></textarea>
                        </div>
                        <div class="col-5 offset-1 inserir-info">
                            <label for="">Ingredientes</label>
                            <textarea name="ingredientes" id="ingrediente" class="form-control mt-2" cols="5" rows="1" placeholder="Insira os ingredientes do prato"></textarea>
                        </div>
                        <div class="col-5 mb-5 inserir-info">
                          <label class="" for="">Foto</label>
                          <input type="file" class="form-control" id="fot">
                        </div>
                        <div class="col-12">
                            <input type="button" class="botao-enviar" value="Enviar">
                            <input type="reset" class="botao-limpar" value="Limpar">
                        </div>
                    </div>
                </form>
            </div>

            <div class="row formulario functest" id="funcionario">
              <div class="col-12 mb-4">
                  <h2>Cadastro de funcionários</h2>
              </div>
              <form method="POST" action="" id="registrar-func">
                  <div class="row">
                      <div class="col-5 inserir-info">
                          <label for="">Nome do funcionário</label>
                          <input type="text" name="nome" class="mt-2" id="nome" placeholder="Insira o nome">
                      </div>
                      <div class="col-5 offset-1 inserir-info">
                          <label for="">Senha</label>
                          <input type="password" class="mt-2" name="senha" id="senha" placeholder="Insira a senha">
                      </div>
                      <div class="col-5 inserir-info">
                          <label for="">Insira a função do funcionário</label>
                          <select name="funcao" class="form-select mt-3" id="funcao">
                              <option value="">Escolha uma opção</option>
                              <option value="CAIXA">Caixa</option>
                              <option value="GARCOM">Garçom</option>
                              <option value="COZINHA">Cozinha</option>
                          </select>
                      </div>
                      <div class="col-5 offset-1 inserir-info">
                          <label for="">Repita a senha</label>
                          <input type="password" class="mt-2" name="senha-repetida" id="senha-repetida" placeholder="Repita a senha">
                      </div>
                      <div class="col-12">
                          <input type="submit" class="botao-enviar" value="Enviar">
                          <input type="reset" class="botao-limpar" value="Limpar">
                      </div>
                  </div>
              </form>
          </div>

          <div class="row formulario" id="mesa">
            <div class="col-12 mb-4">
                <h2>Cadastro de Mesas</h2>
            </div>
            <form method="POST" action="" id="registrar-mesa">
                <div class="row">
                    <div class="col-5 inserir-info">
                        <label for="">Número da mesa</label>
                        <input type="text" name="num-mesa" class="mt-2" id="num-mesa" placeholder="Insira o número da mesa">
                    </div>
                    <div class="col-5 offset-1 inserir-info">
                        <label for="">Senha</label>
                        <input type="password" class="mt-2" name="senha" id="senha" placeholder="Insira a senha">
                    </div>

                    <div class="col-5 inserir-info">
                        <label for="">Repita a senha</label>
                        <input type="password" class="mt-2" name="senha-repetida" id="senha-repetida" placeholder="Repita a senha">
                    </div>
                    <div class="col-12">
                        <input type="button" class="botao-enviar" value="Enviar">
                        <input type="reset" class="botao-limpar" value="Limpar">
                    </div>
                </div>
            </form>
        </div>
        </div>
    </main>

    <script src="../../JS/sweetalert2.js"></script>
    <script src="../../JS/masterpage.js"></script>
    <script src="../../Bootstrap/js/bootstrap.bundle.min.js"></script>
    <script>
      function mostrarFormulario(formId) {
            $('.formulario').hide(); // Oculta todos os formulários
            $('#' + formId).fadeIn(400); // Mostra o formulário desejado
        }

        $('#registrar-func').on('submit', function (e) {
            e.preventDefault();
            $.ajax({
                type: 'post',
                url: '../register-func.php',
                data: $('#registrar-func').serialize(),
                success: function (data) {
                    console.log("Cadastro de Funcionário realizado com sucesso");
                    Swal.fire({
                    title: 'Cadastro Realizado',
                    text: 'O cadastro do funcionário foi realizado com sucesso.',
                    icon: 'success',
                    confirmButtonText: 'Ok'
            });
                },
                error: function (error) {
                    console.log(error);
                    Swal.fire({
                        title: 'Algo não está bem',
                        text: error.statusText,
                        icon: 'error',
                        confirmButtonText: 'Tentar novamente'
                    })
                }
            });
        });

        function logout() {
           $.ajax({
               url: '../logout.php',
               success: function () {
                   location.href = '../../auth.html';
               }
           });
       }
       
    </script>
</body>
</html>